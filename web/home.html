<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://at.alicdn.com/t/c/font_3807373_gglblcpic0h.css">
    <title>MYRANCH</title>
    <link rel="stylesheet" href="/MyRanch/css/home.css">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        li {
            list-style: none;
        }

        a {
            color: black;
            text-decoration: none;
        }

        .w {
            /*  width: 1520px; */
            /* 1200 */
            width: 100%;
            /*  height: 700px; */
            /* 650 */
            height: 100%;
            /* background-color: aquamarine; */
            /* margin: auto; */
            border: 2px solid rgb(0 0 0 / 6%);
            /*position: absolute;*/
        }
        /*遮挡层*/
        .container{
            position: fixed;
            width: 500px;
            height: 400px;
            background-color: beige;
            position: fixed;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            margin: auto;
            border-radius: 15px;
            z-index: 5;
            display: none;
        }
        .container #mask-add-1,.container #mask-add-2 {
            font-size: larger;
            text-align: center;
        }
        .container #mask-number {
            margin-top: 40px;
            width: 250px;
            height: 25px;
            line-height: 25px;
        }
        .container #mask-food-1,.container #mask-food-2 {
            margin-top: 30px;
            width: 250px;
            height: 25px;
            line-height: 25px;
        }
        .container #mask-growDuration-1,.container #mask-growDuration-2 {
            margin-top: 30px;
            width: 250px;
            height: 25px;
            line-height: 25px;
        }
        .container #mask-healthy-1,.container #mask-healthy-2 {
            margin-top: 30px;
            width: 250px;
            height: 25px;
            line-height: 25px;
        }
        .container #mask-description-1,.container #mask-description-2{
            margin-top: 30px;
            width: 250px;
            height: 25px;
            line-height: 25px;
        }
        .container #mask-confirm-1,.container #mask-confirm-2{
            position: absolute;
            width:80px;
            text-align: center;
            top: 80%;
            left: 20%;
            height: 40px;
            line-height: 40px;
            cursor: pointer;
        }
        .container #mask-cancel-1,.container #mask-cancel-2{
            position: absolute;
            width:80px;
            text-align: center;
            top: 80%;
            left: 63%;
            height: 40px;
            line-height: 40px;
            cursor: pointer;
        }

        /* 顶栏 */

        .first_part {
            box-shadow: 0 3px 10px 0 rgb(0 0 0 / 6%);
            width: 100%;
            /*1200px */
            height: 42px;
            /* 69px */
            /* margin: auto; */
        }

        .logo {
            height: 62px;
            float: left;
            line-height: 10px;
            font-size: 16px;
            padding-top: 2px;
        }

        img {
            height: 40px;
            vertical-align: middle;
        }

        .user_touxiang {
            float: right;
            margin-right: 5px;
            margin-top: 1px;
            width: 40px;
            height: 40px;
            background: url(/MyRanch/img/user.jpg);
            background-size: 40px 40px;
            background-position: -83px -40px;
            border-radius: 50%;
        }

        .user_name {
            height: 62px;
            float: right;
            margin-right: 20px;
            line-height: 43px;
        }

        .second_part {
            height: 658px;
            width: 100%;
            /* border:  2px solid red; */
        }

        .second_1 {
            box-shadow: 0 3px 10px 0 rgb(0 0 0 / 6%);
            width: 8%;
            height: 655px;
            float: left;
            text-align: center;
            /* border: 2px solid blue; */
        }

        .second_2 {
            width: 13%;
            height: 655px;
            float: left;
            border: 1px solid rgb(241, 242, 244);
        }

        .second_3 {
            width: 60%;
            height: 655px;
            position: relative;
            float: left;
            border: 1px solid rgb(241, 242, 244);
        }
        /* 首页的文件界面 */

        .second_1-1 {
            width: 100%;
            height: 655px;
            position: absolute;
            z-index: 3;
            background-color: white;
            /* display: none; */
        }

        .second_part .second_1 ul li {
            list-style: none;
            margin-top: 28px;
            width: 100%;
            height: 80px;
            font-size: 12px;
            font-family: '微软雅黑';
        }

        .second_part .second_1 ul .index {
            list-style: none;
            margin-top: 28px;
            width: 100%;
            height: 80px;
            font-size: 12px;
            background-color: #e1e1e1;
            font-family: '微软雅黑';
        }

        /*.second_part .second_1 ul .help {*/
        /*    position: fixed;*/
        /*    bottom: 10%;*/
        /*}*/

        .second_part .second_1 ul li:hover {
            /* transform: translate(-2px, -2px); */
            background-color: #e1e1e1 !important;
        }
        /*改2*/
        .second_2-1 {
            width: 92%;
            height: 40px;
            margin-top: 32px;
            margin-left: 5px;
            border-radius: 18px;
            /* background-color: #a8fcdf; */
            text-align: center;
            line-height: 42px;
            font-family: SFUIText, PingFangSC-Regular, Helvetica Neue, Helvetica, Arial, sans-serif;
            font-weight: 700;
            background-color:#54d1a6;
        }
        /*改2*/
        .second_2-1:hover {
            background-color: #54d1a6 !important;
            color: black;
        }

        .second_2-2 {
            width: 92%;
            height: 40px;
            margin-top: 40px;
            margin-left: 5px;
            border-radius: 18px;
            /* background-color: #a8fcdf; */
            text-align: center;
            line-height: 37px;
            font-family: SFUIText, PingFangSC-Regular, Helvetica Neue, Helvetica, Arial, sans-serif;
            font-weight: 700;
            /* color:#54d1a6; */
        }
        /*改2*/
        .second_2-2:hover {
            background-color: #54d1a6 !important;
            color: black;
        }

        .second_2-3 {
            width: 100%;
            height: 10px;
            margin-top: 180px;
            background-color: #ffffff;
        }

        .second_3-1 {
            width: 100%;
            height: 46px;
            margin-top: 8px;
            /* background-color: #a8fcdf; */
        }

        .second_3-1-1-zengjia {
            position: absolute;
            top: 2%;
            left: 20px;
            width: 120px;
            height: 40px;
            float: left;
            margin: 3px 3px 5px;
            font-size: 16px;
            border-radius: 5px;
            background-color: #e1e1e1;
            /* background-color: #54d1a6; */
            text-align: center;
            line-height: 40px;
            font-weight: 700;
        }
        /*.second_3-1-1-shanchu {*/

        /*    width: 120px;*/
        /*    height: 40px;*/
        /*    float: left;*/
        /*    margin: 3px 3px 5px;*/
        /*    border-radius: 5px;*/
        /*    background-color: #e1e1e1;*/
        /*    !* background-color: #54d1a6; *!*/
        /*    text-align: center;*/
        /*    line-height: 40px;*/
        /*    font-weight: 700;*/
        /*}*/
        /*.second_3-1-1-xiugai {*/
        /*    width: 120px;*/
        /*    height: 40px;*/
        /*    float: left;*/
        /*    margin: 3px 3px 5px;*/
        /*    border-radius: 5px;*/
        /*    background-color: #e1e1e1;*/
        /*    !* background-color: #54d1a6; *!*/
        /*    text-align: center;*/
        /*    line-height: 40px;*/
        /*    font-weight: 700;*/
        /*}*/

        .second_3-1-1-zengjia:hover {
            background-color: #54d1a6;
            cursor: pointer;
        }

        .second_3-1-2-shanchu {
            position: absolute;
            top: 2%;
            left: 150px;
            width: 120px;
            height: 40px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: #e1e1e1;
            text-align: center;
            line-height: 40px;
            font-size: 16px;
            font-weight: 700;
        }

        .second_3-1-2-shanchu:hover {
            background-color: #54d1a6;
            cursor: pointer;
        }

        .second_3-1-3-search {
            width: 30%;
            height: 40px;
            float: right;
            margin-right: 15px;
            margin-top: 26px;
            /* 11 */
            /* border: 2px solid red;
            border-right: 0; */
        }
        /* .second_3-1-3-search */

        .searchbox {
            width: 75%;
            height: 35px;
            border-radius: 25px;
            /* float: left; */
            color: #bfbfbf;
            border: 1px solid #bfbfbf;
            background-color: #f1f3f8;
            padding-left: 15px;
        }
        #search-production {
            position: absolute;
            top: 6%;
            left: 93%;
            width: 40px;
            height: 20px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: white;
            text-align: center;
            line-height: 20px;
            font-weight: 700;
        }
        #search-experience {
            position: absolute;
            top: 5%;
            left: 93%;
            width: 40px;
            height: 20px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: white;
            text-align: center;
            line-height: 20px;
            font-weight: 700;
        }
        .group-line {
            height: 50px;
            width: 100%;
            position: relative;
        }

        .group-line:hover {
            background-color: #f7f9fc;
        }

        .group-button {
            width: 80%;
            text-align: left;
        }

        .group-button:hover {
            cursor: pointer;
            color: #4ba7e8;
            background-color: #f7f9fc;
        }

        .confirm-cancel-box {
            display: inline-block;
            width: 50px;
            height: 30px;
            margin-left: 15px;
            border: 1px solid #bfbfbf;
            border-radius: 60em;
        }

        .confirm-cancel-box:hover {
            cursor: pointer;
            background-color: #4ba7e8;
            color: #ffffff;
        }

        .del-group-button {
            display: none;
            width: 50px;
            height: 30px;
            border: 1px solid #bfbfbf;
            border-radius: 60em;
            margin-top: 7px;
            margin-left: 5px;
            margin-right: 5px;
        }

        .del-group-button:hover {
            cursor: pointer;
            background-color: #e34c26;
            color: #ffffff;
        }

        .wp-s-pan-list__file-name-edit--title-edit-input {
            width: 180px;
        }

        .u-input--small {
            font-size: 13px;
        }

        .u-input {
            position: relative;
            font-size: 14px;
            display: inline-block;
            width: 30%;
            margin-left: 7px;
        }

        .u-input__inner {
            -webkit-appearance: none;
            background-color: #fff;
            background-image: none;
            border-radius: 4px;
            border: 1px solid #59c837;
            box-sizing: border-box;
            color: #03081a;
            display: inline-block;
            font-size: inherit;
            height: 27px;
            line-height: 27px;
            outline: 0;
            padding: 0 12px;
            transition: border-color .2s cubic-bezier(.645,.045,.355,1);
            width: 100%;
        }

        /* .second_3-1-3-search */

        button {
            border: 0;
            /* float: left; */
            height: 40px;
            background-color: white;
            font-size: 15px;
            font-weight: 700;
        }

        .second_3-2-1 {
            width: 100%;
            height: 574px;
            float: left;
            margin-top: 10px;
            border: 1px solid rgb(241, 242, 244);
            border-top: 0;
        }

        .second_3-2-1-1 {
            width: 665px;
            height: 30px;
            margin-top: 18px;
        }

        .second_3-2-1-1-1 {
            width: 80px;
            height: 25px;
            float: left;
            margin-left: 29px;
            font-size: 18px;
            font-weight: 700;
            /* background-color: #54d1a6; */
        }

        .second_3-2-1-1 img {
            float: right;
            margin-right: 115px;
            margin-top: 8px;
        }

        .second_3-2-1-2 {
            width: 656px;
            height: 40px;
            margin-top: 18px;
            border: 1px solid rgb(241, 242, 244);
            border-top: 0;
            border-left: 0;
            border-right: 0;
        }

        .second_3-2-1-2 input {
            margin-left: 28px;
            margin-top: 2px;
            width: 20px;
        }

        .second_3-2-1-2 span:nth-child(2) {
            color: #818999;
            font-size: 19px;
        }

        .second_3-2-1-2 span:nth-child(3) {
            color: #818999;
            font-size: 19px;
            margin-left: 194px;
        }

        .second_3-2-1-2 span:nth-child(4) {
            color: #818999;
            font-size: 19px;
            margin-left: 152px;
        }

        .second_3-2-1-3 {
            width: 100%;
            height: 100%;
            overflow-y: scroll;
            /* border: 1px solid red; */
        }
        .second_3-2-1-3 #group-table {
            width: 100%;
        }
        .second_3-2-1-3 #group-table table{
            border-collapse: collapse;
            border-bottom: solid 1px #222;
            border-right: solid 1px #222;
            width: 100%;
        }
        /*table #add-tbody tr:nth-child(odd) {*/
        /*    background: #ccc;*/
        /*}*/
        table #add-tbody tr:hover {
            background: #ccc;
        }
        .second_3-2-1-3 #group-table table tbody{
            height: 40px;
            width: 100%;
            background: #baeb08;
            color: white;
        }

        .second_3-2-1-3 #group-table table tbody th{
            border-top: solid 1px #222;
            border-left: solid 1px #222;
        }

        .second_3-2-1-3 #group-table table #add-tbody {
            height: 20px;
            width: 100%;
            color: black;
        }
        .second_3-2-1-3 #group-table table #add-tbody {
            background-color: white;
        }
        .second_3-2-1-3 #group-table table tbody tr{
            width: 100%;
            border: 1px solid black;
        }
        .second_3-2-1-3 #group-table td {
            width: 16%;
            border-top: solid 1px #222;
            border-left: solid 1px #222;
            text-align: left;
        }
        .del-production {
            width: 40%;
            height: 20px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: #e1e1e1;
            /* background-color: #54d1a6; */
            text-align: center;
            line-height: 20px;
            font-weight: 700;
        }
        .del-production:hover {
            background-color: #54d1a6;
            cursor: pointer;
        }
        .update-production {
            width: 40%;
            height: 20px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: #e1e1e1;
            /* background-color: #54d1a6; */
            text-align: center;
            line-height: 20px;
            font-weight: 700;
        }
        .update-production:hover {
            background-color: #54d1a6;
            cursor: pointer;
        }
        .second_3-2-2 {
            width: 24%;
            height: 491px;
            float: left;
        }

        .second_3-2-2-1 {
            width: 100%;
            height: 50px;
            margin-top: 25px;
            margin-left: 22px;
            font-size: 18px;
            font-weight: 700;
            font-family: SFUIText, PingFangSC-Regular, Helvetica Neue, Helvetica, Arial, sans-serif;
            /* background-color: #818999; */
        }

        .second_3-2-2 div:nth-child(2) {
            margin-top: 98px;
            margin-left: 20%;
            color: #818999;
        }
        /* 经验界面页码设置 */

        /*.page-nav {*/
        /*    height: 60px;*/
        /*    width: 100%;*/
        /*    margin-top: 50px;*/
        /*    line-height: 60px;*/
        /*    text-align: center;*/
        /*    overflow: hidden;*/
        /*}*/

        /*.page-nav>ul {*/
        /*    !* overflow: hidden; *!*/
        /*    margin-top: -9px;*/
        /*    margin-left: 20%;*/
        /*    !* width:80%;	 *!*/
        /*}*/

        /*.page-nav>ul>li {*/
        /*    float: left;*/
        /*    list-style-type: none;*/
        /*    margin-right: 12px;*/
        /*}*/
        /* 经验交流界面 */

        .second_1-2 {
            width: 100%;
            height: 655px;
            position: absolute;
            z-index: 1;
            background-color: white;
            display: none;
        }
        /* 经验交流界面的第一行 */

        .second_1-2-1 {
            width: 100%;
            height: 46px;
        }
        /* 发布经验 */

        .second_1-2-1-1 {
            position: absolute;
            top: 2%;
            left: 20px;
            width: 120px;
            height: 40px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: #e1e1e1;
            text-align: center;
            line-height: 40px;
            font-size: 16px;
            font-weight: 700;
        }
        /* 删除经验 */

        .second_1-2-1-2 {
            position: absolute;
            top: 2%;
            left: 150px;
            width: 120px;
            height: 40px;
            float: left;
            margin: 3px 3px 5px;
            border-radius: 5px;
            background-color: #e1e1e1;
            text-align: center;
            line-height: 40px;
            font-size: 16px;
            font-weight: 700;
        }

        .second_1-2-1-3 {
            width: 120px;
            height: 40px;
            float: left;
            margin-top: 10px;
            margin-left: 10px;
            border-radius: 12px;
            background-color: #e1e1e1;
            font-size: 16px;
            font-weight: 700;
            text-align: center;
            line-height: 38px;
        }

        .second_1-2-2 {
            width: 100%;
            height: 500px;
            margin-top: 40px;
            /* border: 1px solid red; */
        }

        .second_1-2-2 li {
            width: 100%;
            height: 160px;
            /* position: relative; */
            background-color: #f7f7f7;
            border: 1px solid rgb(241, 242, 244);
        }
        /* 个人经验分享中存放头像及名称以及其他按钮的区域 */

        .persondinfo-other {
            width: 100%;
            height: 40px;
            position: relative;
            /* border: solid red; */
        }
        /* 经验交流头像 */

        .exp-touxiang {
            width: 33px;
            height: 33px;
            position: absolute;
            top: 10%;
            left: 1%;
            background-color: #54d1a6;
            border-radius: 50%;
        }
        /* 经验交流名字 */

        .exp-name {
            width: 40px;
            height: 33px;
            position: absolute;
            top: 10%;
            left: 5%;
            padding-left: 1%;
            line-height: 32px;
            font-size: 15px;
        }
        /* 经验种类 */

        .exp-kind {
            width: 100px;
            height: 33px;
            position: absolute;
            top: 10%;
            left: 73%;
            line-height: 32px;
            font-size: 15px;
            /* background-color: #54d1a6; */
        }
        /* 经验交流发布时间 */

        .exp-date {
            width: 100px;
            height: 33px;
            position: absolute;
            top: 10%;
            left: 86%;
            line-height: 32px;
            font-size: 15px;
            /* background-color: #54d1a6; */
        }
        /* 详细经验内容 */

        .exp_detail {
            width: 100%;
            height: 110px;
            margin-top: 5px;
            /* background-color: #54d1a6; */
        }

        .exp_detail p {
            line-height: 35px;
        }

        .page-exp {
            height: 60px;
            width: 100%;
            margin-top: 20px;
            line-height: 60px;
            text-align: center;
            overflow: hidden;
        }

        .page-exp>ul {
            /* overflow: hidden; */
            margin-top: -9px;
            margin-left: 276px;
            /* width:80%;	 */
        }

        .page-exp>ul>li {
            float: left;
            list-style-type: none;
            margin-right: 20px;
        }
        /* 交易市场界面 */

        .second_1-3 {
            width: 100%;
            height: 655px;
            position: absolute;
            z-index: 2;
            background-color: white;
            display: none;
        }
        /* 交易市场界面header框*/

        .second_1-3-1 {
            width: 100%;
            height: 100px;
            position: relative;
            box-shadow: 0 3px 10px 0 rgb(0 0 0 / 6%);
            border: 2px solid rgb(0 0 0 / 6%);
            border-left: 0;
            border-right: 0;
            /* border: 1px solid #54d1a6; */
        }
        /* 交易市场界面搜索栏 */

        .second_1-3-1-search {
            width: 338px;
            height: 42px;
            left: 264px;
            top: 21px;
            position: absolute;
            border: 1px solid #54d1a6;
            background-color: rgb(246, 246, 246);
        }
        /* 交易市场界面搜索输入框 */

        .second_1-3-1-search input {
            width: 275px;
            height: 40px;
            border-radius: 0;
            outline: none;
            /* 去掉input的边框 */
            background-color: rgb(246, 246, 246);
            /* border-right: 0; */
        }
        /* 搜索栏下方小字链接 */

        .second_1-3-1-2 {
            width: 300px;
            height: 20px;
            position: absolute;
            left: 264px;
            top: 65px;
            font-size: 10px;
            /* color: #bfbfbf; */
        }
        /* 小字a */

        .second_1-3-1-2 a {
            color: #bfbfbf;
        }

        .second_1-3-1-2 a:hover {
            color: #8eefcd;
        }
        /* 交易界面商品框   */

        .second_1-3-2 {
            width: 100%;
            height: 550px;
            overflow: auto;
        }
        /* 页面旁的消息栏 */

        .second_1-3-2-message {
            width: 40px;
            height: 102px;
            position: fixed;
            left: 80%;
            top: 50%;
            margin-left: 106px;
            /* background-color: #54d1a6; */
        }
        /* 牧业商品栏 */

        .second_1-3-2-muye {
            width: 100%;
            height: 275px;
            position: relative;
            /* border: 0.5px solid red; */
            overflow: hidden;
        }
        /* 牧业栏商品状态栏移动左边按钮 */

        .second_1-3-2-muye button:nth-child(1) {
            width: 30px;
            height: 40px;
            position: absolute;
            top: 50%;
            margin-top: -23px;
            z-index: 2;
            background-color: rgba(0, 0, 0, .15);
            border-top-right-radius: 18px;
            border-bottom-right-radius: 18px;
        }
        /* 牧业栏商品状态栏移动图标 */

        .sanjiao-left {
            width: 12px;
            height: 12px;
            border: 3px solid white;
            border-top: 0;
            border-right: 0;
            transform: rotate(45deg);
            margin-left: 7px;
        }
        /*  牧业栏商品状态栏移动右边按钮*/

        .second_1-3-2-muye button:nth-child(2) {
            width: 30px;
            height: 40px;
            position: absolute;
            top: 50%;
            left: 100%;
            margin-left: -30px;
            margin-top: -23px;
            z-index: 2;
            background-color: rgba(0, 0, 0, .15);
            border-top-left-radius: 18px;
            border-bottom-left-radius: 18px;
        }

        .sanjiao-right {
            width: 12px;
            height: 12px;
            border: 3px solid white;
            border-top: 0;
            border-right: 0;
            transform: rotate(-135deg);
            margin-left: 9px;
        }

        .second_1-3-2-muye button:hover {
            background-color: rgb(0, 0, 0, .4);
        }
        /* 用a来装每个商品 注：a里面还是有div等 */

        .second_1-3-2-muye a {
            width: 228px;
            height: 273px;
            position: relative;
            display: inline-block;
            /* float: left; */
            border: 1px solid;
            border-image: linear-gradient( white, rgb(225 216 216), white)10 50 10;
            border-right: 0;
            animation: name duration timing-function delay iteration-count direction fill-mode;
        }
        /* 装商品图片的框 */

        .second_1-3-2-muye-photo {
            width: 227px;
            height: 132px;
            position: absolute;
            text-align: center;
        }
        /* 商品图片 */

        .second_1-3-2-muye img {
            height: 100%;
            width: 100%;
        }
        /* 商品描述 */

        .product_produce {
            width: 160px;
            position: absolute;
            top: 60%;
            left: 14%;
            /* margin-left: 2px; */
            /* margin-right: auto; */
            font-size: 12px;
            font-weight: 400;
            color: #666;
        }

        .product_produce:hover {
            color: rgb(234, 110, 110);
        }
        /* 商品价格 */

        .produce_price {
            width: 160px;
            height: 14px;
            position: absolute;
            top: 86%;
            left: 14%;
            font-size: 12px;
            font-weight: 700;
            color: red;
            text-align: center;
        }
        /* 消息栏图标 */

        .second_1-3-2-message img {
            margin-top: 6px;
        }

        .nongmuye {
            width: 100%;
            height: 275px;
            position: relative;
            /* border: 0.5px solid red; */
            overflow: hidden;
        }
        /*改2*/
        /* 详细的个人信息界面 */

        .persondinfo_detail {
            width: 100%;
            height: 655px;
            position: absolute;
            z-index: 6;
            background-color: #f8f8f8;
            display: none;
            /*text-align: center;*/
            /*line-height: 655px;*/
        }
        /* 详细个人信息页面左侧部分 */

        /*.per_info_detail_left {*/
        /*    width: 16%;*/
        /*    height: 100%;*/
        /*    float: left;*/
        /*    !* background-color:#f8f8f8; *!*/
        /*    position: relative;*/
        /*}*/
        /*!* 详细个人信息页面头像 *!*/

        /*.per_info_detail_left_touxiang {*/
        /*    width: 70px;*/
        /*    height: 70px;*/
        /*    position: absolute;*/
        /*    top: 10%;*/
        /*    left: 25%;*/
        /*    border-radius: 50%;*/
        /*    background: url(img/user.jpg);*/
        /*    background-position: -52px -40px;*/
        /*}*/

        /*.per_info_detail_left_name {*/
        /*    width: 100%;*/
        /*    height: 3%;*/
        /*    position: absolute;*/
        /*    top: 26%;*/
        /*    left: 0%;*/
        /*    !* background-color: red; *!*/
        /*    text-align: center;*/
        /*    line-height: 20px;*/
        /*    font-size: 18px;*/
        /*}*/
        /*!* 个人信息和修改信息两按钮 *!*/

        /*.per_info_detail_left_twoaniu {*/
        /*    width: 100%;*/
        /*    height: 15%;*/
        /*    position: absolute;*/
        /*    top: 45%;*/
        /*    left: 0%;*/
        /*    text-align: center;*/
        /*    font-size: 18px;*/
        /*}*/
        .infoShowRegion{
            display: flex;
            justify-content: space-evenly;
            height: 100%;
            /*text-align: center;*/
        }

        .infoShowRegion-left,.infoShowRegion-right{
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
        }

        .infoShowRegion-left{
            flex-basis: 30%;
            text-align: right;
            font-weight: bold;
            font-size: 20px;
        }

        .infoShowRegion-right{
            flex-basis: 40%;
        }

        .per_info_detail_left_twoaniu .twoaniu-1 {
            position: absolute;
            width: 90%;
            text-align: center;
            top: 0%;
            left: 5%;
            border-radius: 15px;
            background-color: #54d1a6;
        }
        .per_info_detail_left_twoaniu .twoaniu-1:hover {
            background-color: #54d1a6 !important;
            border-radius: 15px;
        }
        .per_info_detail_left_twoaniu .twoaniu-2 {
            position: absolute;
            width: 90%;
            left: 5%;
            text-align: center;
            border-radius: 15px;
            top: 50%;
        }
        .per_info_detail_left_twoaniu .twoaniu-2:hover {
            background-color: #54d1a6 !important;
            border-radius: 15px;
        }
        /* 详细个人信息页面右侧部分 */

        .per_info_detail_right {
            width: 84%;
            height: 100%;
            float: left;
            position: relative;
            /* background-color: red; */
        }
        /* 账号  */

        .per_info_detail_right_zhanghao {
            width: 60%;
            height: 3%;
            position: absolute;
            top: 9%;
            left: 6%;
            /* background-color: #54d1a6; */
        }
        /* 个人信息内容 */

        .per_info_detail_right_neirong {
            width: 95%;
            height: 80%;
            position: absolute;
            top: 15%;
            left: 0%;
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 3px 10px 0 rgb(0 0 0 / 6%);
            z-index: 2;
            /* display: none; */
        }
        /* 基本信息框架 */

        .per_info_detail_right_neirong_basicinfo {
            width: 30%;
            height: 100%;
            position: relative;
            float: left;
            /* background-color: #54d1a6; */
        }
        /* 基本信息内容 */

        .per_info_detail_right_neirong_basicinfo_detail {
            width: 100%;
            height: 45%;
            position: absolute;
            top: 8%;
            left: 0%;
            text-align: center;
            font-size: 13px;
            font-weight: 400;
        }
        /* 相关分组批次或售卖品 */

        /*.per_info_detail_right_neirong_basicinfo_guanlinneirong {*/
        /*    width: 70%;*/
        /*    height: 100%;*/
        /*    !* position: relative; *!*/
        /*    float: left;*/
        /*    !* background-color: #54d1a6; *!*/
        /*}*/
        /*!* 每个组的内容 *!*/

        /*.per_info_detail_right_neirong_basicinfo_guanlinneirong_1 {*/
        /*    width: 93%;*/
        /*    height: 16%;*/
        /*    margin-top: 18px;*/
        /*    box-shadow: 0 3px 10px 0 rgb(0 0 0 / 6%);*/
        /*}*/

        .per_info_detail_right_neirong_basicinfo_guanlinneirong_1 div {
            width: 100%;
            height: 25%;
            margin-left: 6px;
            font-size: 10px;
        }
        /* 修改个人信息界面 */

        .per_info_datail_right_chang {
            width: 95%;
            height: 65%;
            position: absolute;
            top: 20%;
            left: 0%;
            background-color: white;
            border-radius: 6px;
            text-align: center;
            box-shadow: 0 3px 10px 0 rgb(0 0 0 / 6%);
            z-index: 1;
            display: none;
            /* background-color: red; */
        }

        .per_info_datail_right_chang div {
            width: 100%;
            height: 15%;
            margin-top: 10px;
            margin-left: 10px;
        }

        .per_info_datail_right_chang input {
            background-color: white;
            height: 25px;
            border-radius: 5px;
        }

        .per_info_datail_right_chang button {
            width: 50px;
            border: 1px solid black;
            border-radius: 5px;
            margin-left: 60px;
        }
        .per_info_datail_right_chang button:hover {
            background-color: #8eefcd;
        }

        .changeInfoB{
            margin-left: 60px;
            border: 1px solid #000000;
            border-radius: 10px;
            background: #ffffff;
            width: 50px;
            display: none;
        }

        .input1 {
            margin-top: 5%;
            padding-left: 20%;
        }

        .puton-button {
            color: #ffffff;
            padding: 10px;
            border-radius: 15px;
            background-color: #1A73E8;
            margin-right: 30%;
            margin-bottom: 10%;
        }

        .puton-button:hover {
            cursor: pointer;
            background-color: #E9524A;
        }


        #image-desc-button {
            color: #ffffff;
            padding: 5px;
            border-radius: 5em;
            background-color: #1A73E8;
            margin-left: 15%;
        }

        #image-desc-button:hover {
            cursor: pointer;
            background-color: #E9524A;
        }

        #send-pay-code {
            color: #ffffff;
            padding: 5px;
            border-radius: 5em;
            background-color: #1A73E8;
            margin-left: 15%;
        }

        #send-pay-code:hover {
            cursor: pointer;
            background-color: #E9524A;
        }

        .container1 {
            width: 700px;
            height: 750px;
            background-color: beige;
            position: fixed;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            margin: auto;
            border-radius: 15px;
            z-index: 5;
            display: none;
            overflow: auto;
            color: #7e57c1;
        }

        .container2 {
            width: 650px;
            height: 600px;
            background-color: beige;
            position: fixed;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            margin: auto;
            border-radius: 15px;
            z-index: 5;
            display: none;
            overflow: auto;
        }
    </style>
</head>

<body>
<div class="w" id="w">
    <div class="container" id = "mask-1">
        <form id="mask-add-1">
            <input type="text" placeholder="产品数量" class="input" id="mask-number"/><br>
            <input type="text" placeholder="肥料" class="input" id="mask-food-1"/><br>
            <input type="text" placeholder="生长周期" class="input" id="mask-growDuration-1"/><br>
            <input type="text" placeholder="健康状况" class="input" id="mask-healthy-1"/><br>
            <input type="text" placeholder="备注" class="input" id="mask-description-1"/><br>
        </form>
        <button id="mask-confirm-1">确认</button>
        <button id="mask-cancel-1">取消</button>
    </div>
    <div class="container" id = "mask-2">
        <form id="mask-add-2">
            <input type="text" placeholder="肥料" class="input" id="mask-food-2"/><br>
            <input type="text" placeholder="生长周期" class="input" id="mask-growDuration-2"/><br>
            <input type="text" placeholder="健康状况" class="input" id="mask-healthy-2"/><br>
            <input type="text" placeholder="备注" class="input" id="mask-description-2"/><br>
        </form>
        <button id="mask-confirm-2">确认</button>
        <button id="mask-cancel-2">取消</button>
    </div>
    <div class="container1" id = "mask-3">
        <div class="input1">产品名称: <input type="text" class="put-on-input-box" id="product-name"></div>
        <div class="input1">产品价格: <input type="text" class="put-on-input-box" id="product-price"/></div>
        <div class="input1" >
            <p>产品描述：</p>
            <textarea rows="7" cols="50" id="product-desc"></textarea>
        </div>
        <input type="file" style="display: none" class="input1" accept="image/*" id="browse-image">
        <div class="input1" >
            <p style="display: inline-block">图片描述：</p>
            <div style="margin-top: 5%; margin-bottom: 5%;"><img src="" alt="" style="max-width: 420px; height: auto" id="show-image"></div>
            <button id="image-desc-button">上传图片</button>
        </div>
        <div class="input1" >
            <button id="puton-confirm" class="puton-button">确认</button>
            <button id="puton-cancel" class="puton-button">取消</button>
        </div>
    </div>
    <div class="container2" id = "mask-4">
        <input type="file" style="display: none" class="input1" accept="image/*" id="browse-image1">
        <div class="input1" >
            <p style="display: inline-block">收款码：</p>
            <div style="margin-top: 5%; margin-bottom: 5%;">
                <img src="" alt="" style="max-width: 420px; height: auto" id="pay-code-img">
            </div>
            <button id="send-pay-code">上传收款码</button>
        </div>
        <div class="input1" >
            <button id="send-pay-code-confirm" class="puton-button">确认</button>
            <button id="send-pay-code-cancel" class="puton-button">取消</button>
        </div>
    </div>

    <div class="first_part">
        <!--logo-->
        <div class="logo">
            <img src="/MyRanch/img/myranch1.jpg" alt="MYRANCH"> MYRANCH
        </div>
        <!-- user_名称 -->
        <div class="user_name" id="username"></div>
        <!-- user_头像 -->
        <a href="#">
            <div class="user_touxiang"></div>
        </a>
    </div>
    <div class="second_part" id="second_part">
        <div class="second_1">
            <ul>
                <li class="index">
                    <img src="/MyRanch/img/souye.jpg" style="padding-top:10px ; height:36px;">
                    <br>首页
                </li>
                <li style="background: src;" class="exchange">
                    <img src="/MyRanch/img/experience.jpg" style=" padding-top:10px;height: 36px;">
                    <br>经验交流
                </li>
                <li class="deal">
                    <img src="/MyRanch/img/jiaoyi.jpg" style="padding-top:10px ; height:36px;">
                    <br>交易市场
                </li>
                <li class="help">
                    <img src="/MyRanch/img/message.png" style="padding-top:10px ; height:36px;">
                    <br>消息
                </li>
            </ul>
        </div>
        <div class="second_2">
            <div class="second_2-1">
                我的农场信息
            </div>
            <div class="second_2-2" id="other-info">
                个人信息
            </div>
        </div>
        <!-- 三个主要界面 -->
        <div class="second_3">
            <!-- 主页中分组文件信息界面 -->
            <div class="second_1-1">
                <div class="second_3-1" id="button-region">
                    <button class="second_3-1-1-zengjia" id="addGroup">新建分组</button>
                    <button class="second_3-1-2-shanchu" id="addBatch">新建批次</button>
                    <button class="second_3-1-2-shanchu" id="repo" style="left: 280px">个人仓库</button>
                    <button class="second_3-1-2-shanchu" id="putOnStuff" style="left: 410px">上架产品</button>
                    <div class="second_3-1-3-search">
                        <input type="text" value="输入要搜索的组或批次" class="searchbox">
                        <button id="search-production">搜索</button>
                    </div>
                </div>
                <!-- 分组批次信息显示区域 -->
                <div class="second_3-2-1">
                    <div class="second_3-2-1-3">
                        <!--组文件-->
                        <div id="group-table" style="height: auto"></div>
                    </div>
                </div>
            </div>
            <!-- 经验交流界面 -->
            <div class="second_1-2">
                <!-- 第一行 -->
                <div class="second_1-2-1">
                    <div class="second_1-2-1-1">
                        发布经验
                    </div>
                    <div class="second_1-2-1-2">
                        删除经验
                    </div>
                    <div class="second_3-1-3-search">
                        <input type="text" value="输入要搜索的类别" class="searchbox">
                        <button id="search-experience">搜索</button>
                    </div>
                </div>
                <!-- 经验内容部分 -->
                <div class="second_1-2-2">
                    <ul>
                        <li>
                            <div class="persondinfo-other">
                                <div class="exp-touxiang"></div>
                                <div class="exp-name">用户1</div>
                                <div class="exp-kind">类别：大米</div>
                                <div class="exp-date">2022-11-19</div>
                            </div>
                            <diV class="exp_detail">
                                <p>经验内容描述：.............................</p>
                            </diV>
                        </li>
                        <li>
                            <div class="persondinfo-other">
                                <div class="exp-touxiang"></div>
                                <div class="exp-name">用户2</div>
                                <div class="exp-kind">类别：奶牛</div>
                                <div class="exp-date">2022-9-12</div>
                            </div>
                            <diV class="exp_detail">
                                <p>经验内容描述：.............................</p>
                            </diV>
                        </li>
                        <li>
                            <div class="persondinfo-other">
                                <div class="exp-touxiang"></div>
                                <div class="exp-name">用户1</div>
                                <div class="exp-kind">类别：绵羊</div>
                                <div class="exp-date">2020-11-11</div>
                            </div>
                            <diV class="exp_detail">
                                <p>经验内容描述：.............................</p>
                            </diV>
                        </li>
                        <!-- <li></li>
                        <li></li> -->

                    </ul>
                </div>
                <!-- 页码 -->
                <div class='page-exp'>
                    <ul>
                        <li><a href="#">首页</a></li>
                        <li><a href="#">上一页</a></li>
                        <li><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li><a href="#">下一页</a></li>
                        <li><a href="#">末页</a></li>
                    </ul>
                </div>
            </div>
            <!-- 交易市场界面 -->
            <div class="second_1-3">
                <!-- 交易界面header框 -->
                <div class="second_1-3-1">
                    <!-- header搜索栏 -->
                    <div class="second_1-3-1-search">
                        <input type="text" value="樱桃小丸子">
                        <button><img src="/MyRanch/img/search.jpg"></button>
                    </div>

                </div>
                <!-- 商品信息框-->
                <div class="second_1-3-2" id="product-list">

                </div>
                <!-- 商品信息界面右边的消息图标 -->
                <div class="second_1-3-2-message">
                    <a href="#"><img src="/MyRanch/img/message.png"></a>
                    <a href="#"><img src="/MyRanch/img/custom_service.png" style="width:100%"></a>
                </div>
            </div>

            <!-- 个人详细信息界面 -->
            <!-- 改2 -->
            <div class="persondinfo_detail">
                <div class="infoShowRegion">
                    <div class="infoShowRegion-left">
                        <div><i class="iconfont icon-zhanghao" style="margin-right: 5px; font-size: 25px"></i>账号：</div>
                        <div><i class="iconfont icon-mima" style="margin-right: 5px; font-size: 25px"></i>密码：</div>
                        <div><i class="iconfont icon-nicheng" style="margin-right: 5px; font-size: 25px"></i>用户名：</div>
                        <div><i class="iconfont icon-youxiang" style="margin-right: 5px; font-size: 25px"></i>邮箱：</div>
                        <div><i class="iconfont icon-dianhua" style="margin-right: 5px; font-size: 25px"></i>电话：</div>
                        <div><i class="iconfont icon-xingbie" style="margin-right: 5px; font-size: 25px"></i>性别：</div>
                        <div><i class="iconfont icon-suozaidi" style="margin-right: 5px; font-size: 25px"></i>所在地：</div>
                        <div><i class="iconfont icon-shoukuanma1" style="margin-right: 5px; font-size: 25px"></i>收款码：</div>
                    </div>
                    <div class="infoShowRegion-right">
                        <div id="infoID"></div>
                        <div id="infoPwd">******</div>
                        <div id="infoUsername"></div>
                        <div id="infoEmail"></div>
                        <div id="infoPhone"></div>
                        <div id="infoGender"></div>
                        <div id="infoRegion"></div>
                        <div><button class="pay-code" id="check-pay-code">查看我的收款码</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

<script>
    window.onload = function () {
        // 获取用户名
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                document.getElementById("username").innerHTML = xhr.responseText;
            }
        }
        xhr.open("GET", "/MyRanch/group/getUserName");
        xhr.send();

        var checkPutOn = false;

        getGroupList();

        var addGroupOn = false;
        function addGroup() {
            if (!checkPutOn && !addGroupOn) {
                const groupTable = document.getElementById("group-table");
                var tmp = groupTable.innerHTML;
                var HTMLStr = "";
                HTMLStr += '<div style="margin-left:23px; margin-top:3px">';
                HTMLStr += '<img src="/MyRanch/img/gp.png" style="height: 40px; display: inline-block;">' +
                    '<div class="wp-s-pan-list__file-name-edit--title-edit-input u-input u-input--small">' +
                    '<input type="text" autoComplete="off" class="u-input__inner" id="new-group-name">' +
                    '</div>';
                HTMLStr += '<input type="button" id="add-group-confirm" class="confirm-cancel-box" value="确认">';
                HTMLStr += '<input type="button" id="add-group-cancel" class="confirm-cancel-box" value="取消">';
                HTMLStr += '</div>';

                HTMLStr += tmp;

                groupTable.innerHTML = HTMLStr;

                addGroupOn = true;

                document.getElementById("add-group-confirm").onclick = function () {
                    const groupName = document.getElementById("new-group-name").value;
                    addGroupOn = false;

                    var xhr = new XMLHttpRequest();
                    xhr.onreadystatechange = function () {
                        if (xhr.readyState === 4 && xhr.status === 200) {
                            if (xhr.responseText === "1") {
                                alert('新建分组失败, 请检查分组名是否非法或重复');
                            }
                            getGroupList();
                        }
                    }
                    xhr.open("POST", "/MyRanch/group/addGroup");
                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                    xhr.send("groupName=" + groupName);
                }

                document.getElementById("add-group-cancel").onclick = function () {
                    addGroupOn = false;
                    getGroupList();
                }
            }
        }
        document.getElementById("addGroup").onclick = addGroup;

        document.getElementById('repo').onclick = function () {
            checkPutOn = false;
            getGroupList();
        }

        document.getElementById('putOnStuff').onclick = function () {
            checkPutOn = true;
            getPutOnList();
        }

        // 获取上架产品列表
        function getPutOnList () {
            var groupTable = document.getElementById('group-table');
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    let putOnList = JSON.parse(xhr.responseText);
                    groupTable.innerHTML = '';
                    for (let i = 0; i < putOnList.length; i++) {
                        groupTable.innerHTML +='<div class="group-line" ' + 'id="' + 'group-line-' + putOnList[i].filename + '"' + '>' +
                                                  '<div style="width:100%;margin-left:23px; margin-top:3px; float: left; position: absolute;">' +
                                                   '<button ' + 'id="' + putOnList[i].filename + '" class="group-button"><img src="/MyRanch/img/pc.png" style="height: 40px;">' +
                            ' ' + putOnList[i].filename.substring(0, putOnList[i].filename.length-4) + '</button>' +
                            '<input type="button" id="pull-down-' + putOnList[i].filename + '" class="del-group-button" value="下架">' +
                                                   '</div>' +
                                          '</div>';
                    }

                    for (let i = 0; i < putOnList.length; i++) {
                        document.getElementById('group-line-' + putOnList[i].filename).onmouseover = function () {
                            let pullDown = document.getElementById('pull-down-' + putOnList[i].filename);
                            pullDown.style.display = 'inline-block';

                            pullDown.onclick = function () {
                                var xhr = new XMLHttpRequest();
                                xhr.onreadystatechange = function () {
                                    if (xhr.readyState === 4 && xhr.status === 200) {
                                        if (xhr.responseText === "1") {
                                            alert('下架产品失败');
                                        } else {
                                            alert('下架成功');
                                        }
                                        getPutOnList();
                                    }
                                }
                                xhr.open("POST", "/MyRanch/group/pullDown");
                                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                xhr.send("filename=" + putOnList[i].filename);
                            }
                        }

                        document.getElementById('group-line-' + putOnList[i].filename).onmouseout = function () {
                            let pullDown = document.getElementById('pull-down-' + putOnList[i].filename);
                            pullDown.style.display = 'none';
                        }

                    }
                }
            }
            xhr.open("GET", "/MyRanch/group/getPutOnList");
            xhr.send();
        }


        // 获取分组列表
        function getGroupList() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var fileList = JSON.parse(xhr.responseText);
                    var HTMLStr = "";
                    HTMLStr +='<div class="group-line" ' + 'id="' + 'group-line-' + '.."' + '>';
                    HTMLStr +=          '<div style="width:100%;margin-left:23px; margin-top:3px; float: left; position: absolute;">';
                    HTMLStr +=          '<button ' + 'id="' + '..' + '" class="group-button"><img src="/MyRanch/img/RC.PNG" style="height: 40px;">' +
                        ' ..' + '</button>';
                    HTMLStr +=          '</div>';
                    HTMLStr += '</div>';

                    for (let i = 0; i < fileList.length; i++) {
                        HTMLStr +='<div class="group-line" ' + 'id="' + 'group-line-' + fileList[i].filename + '"' + '>';
                        HTMLStr +=          '<div style="width: 100%; margin-left:23px; margin-top:3px;float: left; position: absolute;">';
                        if(fileList[i].type === 0){
                            HTMLStr +=          '<button ' + 'id="' + fileList[i].filename + '" class="group-button"><img src="/MyRanch/img/gp.png" style="height: 40px;">' +
                                " " + fileList[i].filename + '</button>';
                        }else{
                            HTMLStr +=          '<button ' + 'id="' + fileList[i].filename + '" class="group-button">' +
                                '<img src="/MyRanch/img/pc.png" style="height: 40px;">' +
                                " " + fileList[i].filename.substring(0,fileList[i].filename.length-4) +
                                '</button>';
                            HTMLStr += '<input type="button" id="up-' + fileList[i].filename + '" class="del-group-button" value="上架">';
                        }

                        HTMLStr += '<input type="button" id="del-group-' + fileList[i].filename + '" class="del-group-button" value="删除">';
                        HTMLStr +=          '</div>';
                        HTMLStr +='</div>';
                    }

                    document.getElementById("group-table").innerHTML = HTMLStr;

                    document.getElementById("..").onclick = function () {
                        var xhr = new XMLHttpRequest();
                        xhr.onreadystatechange = function () {
                            if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === "0") {
                                getGroupList();
                            }
                        }
                        xhr.open("POST", "/MyRanch/group/cd");
                        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                        xhr.send("filename=..");
                    }

                    for (let i = 0; i < fileList.length; i++) {
                        if (fileList[i].type === 0) {
                            document.getElementById(fileList[i].filename).onclick = function () {
                                var xhr = new XMLHttpRequest();
                                xhr.onreadystatechange = function () {
                                    if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === "0") {
                                        getGroupList();
                                    }
                                }
                                if (fileList[i].type === 0) {
                                    xhr.open("POST", "/MyRanch/group/cd");
                                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                    xhr.send("filename=" + fileList[i].filename);
                                }
                            }
                        }
                        else {
                            document.getElementById(fileList[i].filename).onclick = function () {
                                var xhr = new XMLHttpRequest();
                                xhr.onreadystatechange = function () {
                                    if (xhr.readyState === 4 && xhr.status === 200) {
                                        // 把上半部分的按钮界面重新渲染
                                        var HTMLStr = "";
                                        HTMLStr += '<button ' + 'class="second_3-1-1-zengjia" id="addProduction">' + '添加产品' + '</button>';
                                        HTMLStr += '<button ' + 'class="second_3-1-2-shanchu" id="return">' + '返回' + '</button>';
                                        document.getElementById("button-region").innerHTML = HTMLStr;

                                        // 为返回按钮绑定响应事件
                                        document.getElementById("return").onclick = function (){
                                            // console.log("=====")
                                            var HTMLStr = "";
                                            HTMLStr += '<button ' + 'class="second_3-1-1-zengjia"' + 'id="addGroup">' + '新建分组' + '</button>';
                                            HTMLStr += '<button ' + 'class="second_3-1-2-shanchu" id="addBatch">' + '新建批次' + '</button>';
                                            document.getElementById("button-region").innerHTML = HTMLStr;
                                            getGroupList();
                                            // 重新注册事件
                                            document.getElementById("addGroup").onclick = addGroup;
                                            document.getElementById("addBatch").onclick = addBatch;
                                        }
                                        // 接下来还应该渲染展示界面
                                        var HTMLStr = "";

                                        HTMLStr += '<table id="add-table">'
                                        HTMLStr += '<tr><th id="add-number">编号</th><th id="add-food">肥料/饲料</th><th id="add-healthy">健康状况</th><th id="add-growDuration">生长周期</th><th id="add-description">备注描述</th><th>操作</th></tr>'
                                        HTMLStr += '<tbody id="add-tbody">'

                                        // 从后端拿到数据
                                        productions = JSON.parse(xhr.responseText);
                                        console.log("==展示production==")
                                        console.log(productions)
                                        console.log("==展示结束==")

                                        // 渲染从后端拿到的数据
                                        for (let i = 0; i < productions.length; ++i) {
                                            production = productions[i];
                                            HTMLStr += '<tr id="' + production.productionId + '">'
                                            HTMLStr += '<td>' + production.productionId + '</td>'
                                            HTMLStr += '<td>' + production.food + '</td>'
                                            HTMLStr += '<td>' + production.healthy + '</td>'
                                            HTMLStr += '<td>' + production.growDuration + '</td>'
                                            HTMLStr += '<td>' + production.description + '</td>'
                                            HTMLStr += '<td>' + '<button ' + 'id="del-production-'+ production.productionId + '" class="del-production">'+ '删除' +'</button>' + '<button ' + 'id="update-production-'+ production.productionId + '" class="update-production">'+'修改'+'</button>' + '</td>'
                                            HTMLStr += '</tr>'
                                        }

                                        HTMLStr += '</tbody>'
                                        HTMLStr += '</table>'

                                        document.getElementById("group-table").innerHTML = HTMLStr

                                        //点击添加产品，弹出遮罩层请求
                                        document.getElementById("addProduction").onclick = function (){
                                            var mask = document.getElementById("mask-1");
                                            mask.style.display = "block";
                                            var second_part = document.getElementById("second_part");
                                            second_part.style.opacity = "0.3";
                                        }

                                        //给遮罩层的取消按钮注册事件
                                        function maskCancel() {
                                            var mask = document.getElementById("mask-1");
                                            mask.style.display = "none";
                                            var second_part = document.getElementById("second_part");
                                            second_part.style.opacity = "1";
                                        }
                                        document.getElementById("mask-cancel-1").onclick = maskCancel

                                        //完成实际上的添加产品请求
                                        const addNum = document.getElementById("mask-number");
                                        const addFood = document.getElementById("mask-food-1");
                                        const addGrowDuration = document.getElementById("mask-growDuration-1");
                                        const addHealthy = document.getElementById("mask-healthy-1");
                                        const addDescription = document.getElementById("mask-description-1");

                                        //添加产品需要用到的请求
                                        document.getElementById("mask-confirm-1").onclick = function (){
                                            if (addNum.value === '' || Number(addNum.value).toString() === "NaN") {
                                                alert('添加数量不能为空或输入不合法');
                                            } else if (addFood.value === ''){
                                                alert('饲料不能为空')
                                            } else if (addGrowDuration.value === ''){
                                                alert('成熟周期不能为空')
                                            } else if (addHealthy.value === ''){
                                                alert('健康状况不能为空')
                                            } else {
                                                var xhr = new XMLHttpRequest();
                                                xhr.onreadystatechange = function (){
                                                    if(xhr.readyState === 4 && xhr.status === 200){
                                                        var HTMLStr = "";

                                                        HTMLStr += '<table id="add-table">'
                                                        HTMLStr += '<tr><th id="add-number">编号</th><th id="add-food">肥料/饲料</th><th id="add-healthy">健康状况</th><th id="add-growDuration">生长周期</th><th id="add-description">备注描述</th><th>操作</th></tr>'
                                                        HTMLStr += '<tbody id="add-tbody">'

                                                        productions = JSON.parse(xhr.responseText);
                                                        console.log(".....");
                                                        console.log(xhr.responseText)
                                                        console.log("==添加渲染production==")
                                                        console.log(productions)
                                                        console.log("==添加渲染结束==")

                                                        // 渲染从后端拿到的数据
                                                        for (let i = 0; i < productions.length; ++i) {
                                                            production = productions[i];
                                                            HTMLStr += '<tr id="' + production.productionId + '">'
                                                            HTMLStr += '<td>' + production.productionId + '</td>'
                                                            HTMLStr += '<td>' + production.food + '</td>'
                                                            HTMLStr += '<td>' + production.healthy + '</td>'
                                                            HTMLStr += '<td>' + production.growDuration + '</td>'
                                                            HTMLStr += '<td>' + production.description + '</td>'
                                                            HTMLStr += '<td>' + '<button ' + 'id="del-production-'+ production.productionId + '" class="del-production">'+ '删除' +'</button>' + '<button ' + 'id="update-production-'+ production.productionId + '" class="update-production">'+ '修改' +'</button>' + '</td>'
                                                            HTMLStr += '</tr>'
                                                        }

                                                        HTMLStr += '</tbody>'
                                                        HTMLStr += '</table>'
                                                        document.getElementById("group-table").innerHTML = HTMLStr

                                                        maskCancel()

                                                        delBP()
                                                        changeBP()

                                                        addNum.value = '';
                                                        addFood.value = '';
                                                        addGrowDuration.value = '';
                                                        addHealthy.value = '';
                                                        addDescription.value = '';
                                                    }
                                                }
                                                xhr.open("POST","/MyRanch/group/addProduction");
                                                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                                xhr.send("addNum=" + addNum.value + "&" +
                                                    "addFood=" + addFood.value + "&" +
                                                    "addGrowDuration=" + addGrowDuration.value + "&" +
                                                    "addHealthy=" + addHealthy.value + '&' +
                                                    "addDescription=" + addDescription.value);
                                            }
                                        }

                                        // 接下来为每一个删除按钮添加请求
                                        function delBP() {
                                            for (let i = 0; i < productions.length; ++i){
                                                production = productions[i];
                                                let delB = document.getElementById("del-production-" + production.productionId);
                                                if (delB != null){
                                                    delB.onclick = function () {
                                                        var xhr = new XMLHttpRequest();
                                                        xhr.onreadystatechange = function () {
                                                            if (xhr.readyState == 4 && xhr.status == 200) {
                                                                var HTMLStr = "";
                                                                HTMLStr += '<table id="add-table">'
                                                                HTMLStr += '<tr><th id="add-number">编号</th><th id="add-food">肥料/饲料</th><th id="add-healthy">健康状况</th><th id="add-growDuration">生长周期</th><th id="add-description">备注描述</th><th>操作</th></tr>'
                                                                HTMLStr += '<tbody id="add-tbody">'
                                                                // console.log(xhr.responseText);
                                                                productions = JSON.parse(xhr.responseText);

                                                                console.log("==删除渲染production==")
                                                                console.log(productions)
                                                                console.log("==删除结束==")

                                                                // 渲染从后端拿到的数据
                                                                for (let i = 0; i < productions.length; ++i) {
                                                                    production = productions[i];
                                                                    HTMLStr += '<tr id="' + production.productionId + '">'
                                                                    HTMLStr += '<td>' + production.productionId + '</td>'
                                                                    HTMLStr += '<td>' + production.food + '</td>'
                                                                    HTMLStr += '<td>' + production.healthy + '</td>'
                                                                    HTMLStr += '<td>' + production.growDuration + '</td>'
                                                                    HTMLStr += '<td>' + production.description + '</td>'
                                                                    HTMLStr += '<td>' + '<button ' + 'id="del-production-'+ production.productionId + '" class="del-production">'+ '删除' +'</button>' + '<button ' + 'id="update-production-'+ production.productionId + '" class="update-production">'+'修改'+'</button>' + '</td>'
                                                                    HTMLStr += '</tr>'
                                                                }
                                                                HTMLStr += '</tbody>'
                                                                HTMLStr += '</table>'
                                                                document.getElementById("group-table").innerHTML = HTMLStr

                                                                //为每个删除按钮重新注册事件
                                                                delBP();
                                                                // console.log("进入")
                                                                changeBP();
                                                                // console.log("出来")
                                                                // alert("删除产品成功");
                                                            }
                                                        }
                                                        xhr.open("POST","/MyRanch/group/delProduction",true);
                                                        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                                        let tmpDelId = delB.getAttribute("id")
                                                        let delId = tmpDelId.substring(15,tmpDelId.length);
                                                        console.log(delId)
                                                        xhr.send("delId=" + delId);
                                                    }
                                                }
                                            }
                                        }
                                        delBP();

                                        // 添加修改请求
                                        function changeBP() {
                                            for (let i = 0; i < productions.length; ++i){
                                                production = productions[i];
                                                let changeB = document.getElementById("update-production-" + production.productionId);
                                                if (changeB != null){
                                                    changeB.onclick = function () {
                                                        //先弹出遮罩层
                                                        var mask = document.getElementById("mask-2");
                                                        mask.style.display = "block";
                                                        var second_part = document.getElementById("second_part");
                                                        second_part.style.opacity = "0.3";

                                                        const cFood = document.getElementById("mask-food-2");
                                                        const cGrowDuration = document.getElementById("mask-growDuration-2");
                                                        const cHealthy = document.getElementById("mask-healthy-2");
                                                        const cDescription = document.getElementById("mask-description-2");

                                                        //为遮罩层的确认按钮添加修改事件
                                                        document.getElementById("mask-confirm-2").onclick = function () {
                                                            if (cFood.value == '') {
                                                                alert('饲料不能为空')
                                                            } else if (cGrowDuration.value == '') {
                                                                alert('成熟周期不能为空')
                                                            } else if (cHealthy.value === '') {
                                                                alert('健康状况不能为空')
                                                            } else {
                                                                var xhr = new XMLHttpRequest();
                                                                xhr.onreadystatechange = function () {
                                                                    if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === "0") {

                                                                        console.log("==修改渲染production==")
                                                                        console.log("==修改结束==")
                                                                        let tmpChangeId = changeB.getAttribute("id")
                                                                        let changeId = tmpChangeId.substring(18,tmpChangeId.length);

                                                                        console.log(changeId)

                                                                        let childNodes = document.getElementById(changeId).childNodes;
                                                                        childNodes[1].innerText = cFood.value
                                                                        childNodes[2].innerText = cHealthy.value
                                                                        childNodes[3].innerText = cGrowDuration.value
                                                                        childNodes[4].innerText = cDescription.value

                                                                        maskCancle2()

                                                                        // alert("修改产品成功");
                                                                    } else if (xhr.responseText === "1") {
                                                                        alert("修改产品失败了，再试一下吧！")
                                                                    }
                                                                }
                                                                xhr.open("POST","/MyRanch/group/changeProduction",true);
                                                                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                                                let tmpChangeId = changeB.getAttribute("id")
                                                                let changeId = tmpChangeId.substring(18,tmpChangeId.length);
                                                                // console.log(changeId)
                                                                xhr.send("cId=" + changeId + "&" +
                                                                    "cFood=" + cFood.value + "&" +
                                                                    "cGrowDuration=" + cGrowDuration.value + "&" +
                                                                    "cHealthy=" + cHealthy.value + '&' +
                                                                    "cDescription=" + cDescription.value);
                                                            }
                                                        }

                                                        //取消遮罩层
                                                        function maskCancle2 () {
                                                            var mask = document.getElementById("mask-2");
                                                            mask.style.display = "none";
                                                            var second_part = document.getElementById("second_part");
                                                            second_part.style.opacity = "1";
                                                        }

                                                        document.getElementById("mask-cancel-2").onclick = maskCancle2

                                                        cFood.value = '';
                                                        cGrowDuration.value = '';
                                                        cHealthy.value = '';
                                                        cDescription.value = '';
                                                    }
                                                }
                                            }
                                        }
                                        changeBP()
                                    }
                                }
                                if (fileList[i].type === 1) {
                                    xhr.open("POST", "/MyRanch/group/showProduction");
                                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                    xhr.send("filename=" + fileList[i].filename);
                                }
                            }
                        }
                        //删除分组和批次
                        document.getElementById('group-line-' + fileList[i].filename).onmouseover = function () {
                            let del_group_button = document.getElementById("del-group-" + fileList[i].filename);
                            let up_button = document.getElementById('up-' + fileList[i].filename);
                            if (del_group_button) {
                                del_group_button.style.display = 'inline-block';
                            }
                            if (up_button) {
                                up_button.style.display = 'inline-block';
                            }
                            if(fileList[i].type === 0)
                            {
                                if (del_group_button) {
                                    del_group_button.onclick = function () {
                                        var xhr = new XMLHttpRequest();
                                        xhr.onreadystatechange = function () {
                                            if (xhr.readyState === 4 && xhr.status === 200) {
                                                if (xhr.responseText === "0") {
                                                    getGroupList();
                                                } else {
                                                    alert("删除分组失败");
                                                }
                                            }
                                        }
                                        xhr.open("POST", "/MyRanch/group/delGroup");
                                        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                        xhr.send("groupName=" + fileList[i].filename);
                                    }
                                }
                            }else{
                                if (del_group_button) {
                                    del_group_button.onclick = function () {
                                        var xhr = new XMLHttpRequest();
                                        xhr.onreadystatechange = function () {
                                            if (xhr.readyState === 4 && xhr.status === 200) {
                                                if (xhr.responseText === "0") {
                                                    getGroupList();
                                                } else {
                                                    alert("删除批次失败");
                                                }
                                            }
                                        }
                                        xhr.open("POST", "/MyRanch/group/delBatch");
                                        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                        xhr.send("batchName=" + fileList[i].filename);
                                    }
                                }

                                if (up_button) {
                                    up_button.onclick = function () {
                                        var xhr = new XMLHttpRequest()
                                        xhr.onreadystatechange = function () {
                                            if (xhr.readyState === 4 && xhr.status === 200) {
                                                if (xhr.responseText === "") {
                                                    alert('请先上传收款码');
                                                } else {
                                                    var mask = document.getElementById("mask-3");
                                                    mask.style.display = "block";
                                                    var second_part = document.getElementById("second_part");
                                                    second_part.style.opacity = "0.3";

                                                    var productName = document.getElementById('product-name');
                                                    var productPrice = document.getElementById('product-price');
                                                    var productDesc = document.getElementById('product-desc');
                                                    var imageFile = document.getElementById('browse-image');
                                                    var show_image = document.getElementById('show-image');

                                                    document.getElementById('image-desc-button').onclick = function () {
                                                        imageFile.click();
                                                    }

                                                    imageFile.onchange = function () {
                                                        if (this.files[0] !== '') {
                                                            let reader = new FileReader();
                                                            reader.readAsDataURL(this.files[0]);
                                                            reader.onload = function (e) {
                                                                show_image.src = e.target.result;
                                                                show_image.onload = function () {
                                                                    mask.scrollTop = mask.scrollHeight;
                                                                }
                                                            }
                                                        }
                                                    }

                                                    document.getElementById('puton-confirm').onclick = function () {
                                                        if (productName.value === '' || productPrice.value === '' || productDesc.value === '' ||
                                                            imageFile.value === '' || show_image.src === '') {
                                                            alert('产品信息未填写完整');
                                                            return;
                                                        }

                                                        var formData = new FormData();
                                                        formData.append("productName", productName.value);
                                                        formData.append("productPrice", productPrice.value);
                                                        formData.append("productDesc", productDesc.value);
                                                        formData.append("imageFile", imageFile.files[0]);
                                                        formData.append("filename", fileList[i].filename);

                                                        var xhr = new XMLHttpRequest();
                                                        xhr.onreadystatechange = function () {
                                                            if (xhr.readyState === 4 && xhr.status === 200) {
                                                                if (xhr.responseText === "0") {
                                                                    productName.value = productPrice.value = productDesc.value =
                                                                        imageFile.value = show_image.src = '';
                                                                    mask.style.display = "none";
                                                                    second_part.style.opacity = "1";

                                                                    // 由于上架后批次文件已被移除，因此需要刷新仓库的显示界面
                                                                    getGroupList();

                                                                    alert('产品上架成功');
                                                                } else {
                                                                    alert('产品上架失败，请稍后再试');
                                                                }
                                                            }
                                                        }
                                                        xhr.open("POST", "/MyRanch/group/putOn");
                                                        xhr.send(formData);
                                                    }

                                                    document.getElementById('puton-cancel').onclick = function () {
                                                        productName.value = productPrice.value = productDesc.value =
                                                            imageFile.value = show_image.src = '';
                                                        mask.style.display = "none";
                                                        second_part.style.opacity = "1";
                                                    }
                                                }
                                            }
                                        }
                                        xhr.open("POST", "/MyRanch/user/getPayCode");
                                        xhr.send();
                                    }
                                }
                            }
                        }
                        document.getElementById('group-line-' + fileList[i].filename).onmouseout = function () {
                            let del_group_button = document.getElementById("del-group-" + fileList[i].filename);
                            if (del_group_button) {
                                del_group_button.style.display = 'none';
                            }

                            let up_button = document.getElementById("up-" + fileList[i].filename);
                            if (up_button) {
                                up_button.style.display = 'none';
                            }
                        }
                    }
                }
            }
            xhr.open("GET", "/MyRanch/group/getFiles");
            xhr.send();
        }

        var addGroupOn = false;
        function addBatch() {
            if(!checkPutOn && !addGroupOn){
                const batchTable = document.getElementById("group-table");
                var tmp = batchTable.innerHTML;
                var HTMLStr = "";
                HTMLStr += '<div style="margin-left:23px; margin-top:3px">';
                HTMLStr += '<img src="/MyRanch/img/pc.png" style="height: 40px; display: inline-block;">' +
                    '<div class="wp-s-pan-list__file-name-edit--title-edit-input u-input u-input--small">' +
                    '<input type="text" autoComplete="off" class="u-input__inner" id="new-batch-name">' +
                    '</div>';
                HTMLStr += '<input type="button" id="add-group-confirm" class="confirm-cancel-box" value="确认">';
                HTMLStr += '<input type="button" id="add-group-cancel" class="confirm-cancel-box" value="取消">';
                HTMLStr += '</div>';

                HTMLStr += tmp;

                batchTable.innerHTML = HTMLStr;

                addGroupOn = true;

                document.getElementById("add-group-confirm").onclick = function () {
                    const batchName = document.getElementById("new-batch-name").value;
                    addGroupOn = false;

                    var xhr = new XMLHttpRequest();
                    xhr.onreadystatechange = function () {
                        if (xhr.readyState === 4 && xhr.status === 200) {
                            if (xhr.responseText === "1") {
                                alert('新建批次失败, 请检查批次名是否非法或重复');
                                // console.log("新建批次成功");
                            } else {
                                getGroupList();
                            }
                        }
                    }
                    xhr.open("POST", "/MyRanch/group/addBatch");
                    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                    xhr.send("batchName=" + batchName);
                }

                document.getElementById("add-group-cancel").onclick = function () {
                    addGroupOn = false;
                    getGroupList();
                }
            }
        }
        document.getElementById("addBatch").onclick = addBatch;

        function getUserInfo() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.status === 200 && xhr.readyState === 4) {
                    var userJson = JSON.parse(xhr.responseText);
                    // console.log(userJson)

                    document.getElementById("infoID").innerText = userJson.userId;
                    document.getElementById("infoPwd").innerHTML = '******' + '<input type="button" value="修改" class="changeInfoB" id="changeInfouserpd">';
                    document.getElementById("infoEmail").innerText = userJson.userEmail;
                    document.getElementById("infoUsername").innerHTML = userJson.userName + '<input type="button" value="修改" class="changeInfoB" id="changeInfousername">';
                    document.getElementById("infoPhone").innerHTML = userJson.userPhone + '<input type="button" value="修改" class="changeInfoB" id="changeInfouserphone">';
                    document.getElementById("infoRegion").innerHTML = userJson.userRegion + '<input type="button" value="修改" class="changeInfoB" id="changeInfouserregion">';
                    document.getElementById("infoGender").innerHTML = userJson.userGender + '<input type="button" value="修改" class="changeInfoB" id="changeInfousergender">';
                }
            }
            xhr.open("GET","/MyRanch/user/showUserInfo");
            xhr.send();
        }
        //获得个人信息
        document.getElementById("other-info").onclick = getUserInfo

        // 用户名
        document.getElementById("infoUsername").onmouseover = function () {
            const changeInfoUsername = document.getElementById("changeInfousername");
            if (changeInfoUsername != null) {
                changeInfoUsername.style.display = 'inline-block';
                changeInfoUsername.onclick = function () {
                    var HTMLStr = "";
                    HTMLStr += '<input type="text" autoComplete="off" id="newName">'
                    HTMLStr += '<input type="button" id="changename-confirm" class="confirm-cancel-box" value="确认">';
                    HTMLStr += '<input type="button" id="changename-cancle" class="confirm-cancel-box" value="取消">';
                    document.getElementById("infoUsername").innerHTML = HTMLStr;

                    document.getElementById("changename-confirm").onclick = function () {
                        const newMessage = document.getElementById("newName");
                        if (newMessage.value !== ''){
                            var xhr = new XMLHttpRequest()
                            xhr.onreadystatechange = function () {
                                if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === '0') {
                                    document.getElementById("infoUsername").innerHTML = newMessage.value + '<input type="button" value="修改" class="changeInfoB" id="changeInfousername">';
                                }
                            }
                            xhr.open("POST", "/MyRanch/user/changeInfo");
                            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            xhr.send("newMessage=" + newMessage.value + "&" + "type=0");
                        } else {
                            alert("修改信息输入不能为空");
                        }
                    }

                    document.getElementById("changename-cancle").onclick = function () {
                        getUserInfo()
                    }
                }
            }
        }
        document.getElementById("infoUsername").onmouseout = function () {
            const changeInfoUsername = document.getElementById("changeInfousername");
            if (changeInfoUsername != null){
                changeInfoUsername.style.display = 'none';
            }
        }

        // 电话
        document.getElementById("infoPhone").onmouseover = function () {
            const changeInfoUserphone = document.getElementById("changeInfouserphone");
            if (changeInfoUserphone != null) {
                changeInfoUserphone.style.display = 'inline-block';
                changeInfoUserphone.onclick = function () {
                    var HTMLStr = "";
                    HTMLStr += '<input type="text" autoComplete="off" id="newphone">'
                    HTMLStr += '<input type="button" id="changephone-confirm" class="confirm-cancel-box" value="确认">';
                    HTMLStr += '<input type="button" id="changephone-cancle" class="confirm-cancel-box" value="取消">';
                    document.getElementById("infoPhone").innerHTML = HTMLStr;

                    document.getElementById("changephone-confirm").onclick = function () {
                        const newMessage = document.getElementById("newphone");
                        if (newMessage.value !== ''){
                            var xhr = new XMLHttpRequest()
                            xhr.onreadystatechange = function () {
                                if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === '0') {
                                    document.getElementById("infoPhone").innerHTML = newMessage.value + '<input type="button" value="修改" class="changeInfoB" id="changeInfouserphone">';
                                }
                            }
                            xhr.open("POST", "/MyRanch/user/changeInfo");
                            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            xhr.send("newMessage=" + newMessage.value + "&" +
                                "type=1");
                        } else {
                            alert("修改信息输入不能为空")
                        }
                    }

                    document.getElementById("changephone-cancle").onclick = function () {
                        getUserInfo()
                    }
                }
            }
        }
        document.getElementById("infoPhone").onmouseout = function () {
            const changeInfoUserphone = document.getElementById("changeInfouserphone");
            if (changeInfoUserphone != null) {
                changeInfoUserphone.style.display = 'none';
            }
        }

    //    性别
        document.getElementById("infoGender").onmouseover = function () {
            const changeInfoUsergender = document.getElementById("changeInfousergender");
            if (changeInfoUsergender != null) {
                changeInfoUsergender.style.display = 'inline-block';
                changeInfoUsergender.onclick = function () {
                    var HTMLStr = "";
                    HTMLStr += '<input type="text" autoComplete="off" id="newgender">'
                    HTMLStr += '<input type="button" id="changegender-confirm" class="confirm-cancel-box" value="确认">';
                    HTMLStr += '<input type="button" id="changegender-cancle" class="confirm-cancel-box" value="取消">';
                    document.getElementById("infoGender").innerHTML = HTMLStr;

                    document.getElementById("changegender-confirm").onclick = function () {
                        const newMessage = document.getElementById("newgender");
                        if (newMessage.value !== ''){
                            var xhr = new XMLHttpRequest()
                            xhr.onreadystatechange = function () {
                                if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === '0') {
                                    document.getElementById("infoGender").innerHTML = newMessage.value + '<input type="button" value="修改" class="changeInfoB" id="changeInfousergender">';
                                }
                            }
                            xhr.open("POST", "/MyRanch/user/changeInfo");
                            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            xhr.send("newMessage=" + newMessage.value + "&" +
                                "type=2");
                        } else {
                         alert("修改信息输入不能为空")
                        }
                    }

                    document.getElementById("changegender-cancle").onclick = function () {
                        getUserInfo()
                    }
                }
            }
        }
        document.getElementById("infoGender").onmouseout = function () {
            const changeInfoUsergender = document.getElementById("changeInfousergender");
            if (changeInfoUsergender != null){
                changeInfoUsergender.style.display = 'none';
            }
        }

    //    所在地
        document.getElementById("infoRegion").onmouseover = function () {
            const changeInfoUserregion = document.getElementById("changeInfouserregion");
            if (changeInfoUserregion != null) {
                changeInfoUserregion.style.display = 'inline-block';
                changeInfoUserregion.onclick = function () {
                    var HTMLStr = "";
                    HTMLStr += '<input type="text" autoComplete="off" id="newregion">'
                    HTMLStr += '<input type="button" id="changeregion-confirm" class="confirm-cancel-box" value="确认">';
                    HTMLStr += '<input type="button" id="changeregion-cancle" class="confirm-cancel-box" value="取消">';
                    document.getElementById("infoRegion").innerHTML = HTMLStr;

                    document.getElementById("changeregion-confirm").onclick = function () {
                        const newMessage = document.getElementById("newregion");
                        if (newMessage.value !== ''){
                            var xhr = new XMLHttpRequest()
                            xhr.onreadystatechange = function () {
                                if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === '0') {
                                    document.getElementById("infoRegion").innerHTML = newMessage.value + '<input type="button" value="修改" class="changeInfoB" id="changeInfouserregion">';
                                }
                            }
                            xhr.open("POST", "/MyRanch/user/changeInfo");
                            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            xhr.send("newMessage=" + newMessage.value + "&" +
                                "type=3");
                        }
                    }

                    document.getElementById("changeregion-cancle").onclick = function () {
                        getUserInfo()
                    }
                }
            }
        }
        document.getElementById("infoRegion").onmouseout = function () {
            const changeInfoUserregion = document.getElementById("changeInfouserregion");
            if (changeInfoUserregion != null){
                changeInfoUserregion.style.display = 'none';
            }
        }

        //    密码
        document.getElementById("infoPwd").onmouseover = function () {
            const changeInfoUserpd = document.getElementById("changeInfouserpd");
            if (changeInfoUserpd != null) {
                changeInfoUserpd.style.display = 'inline-block';
                changeInfoUserpd.onclick = function () {
                    var HTMLStr = "";
                    HTMLStr += '<input type="text" autoComplete="off" id="newpd">'
                    HTMLStr += '<input type="button" id="changepd-confirm" class="confirm-cancel-box" value="确认">';
                    HTMLStr += '<input type="button" id="changepd-cancle" class="confirm-cancel-box" value="取消">';
                    document.getElementById("infoPwd").innerHTML = HTMLStr;

                    document.getElementById("changepd-confirm").onclick = function () {
                        const newMessage = document.getElementById("newpd");
                        if (newMessage.value !== '' || (newMessage.value.length <= 16 && newMessage.value.length >= 6)) {
                            var xhr = new XMLHttpRequest()
                            xhr.onreadystatechange = function () {
                                if (xhr.readyState === 4 && xhr.status === 200 && xhr.responseText === '0') {
                                    document.getElementById("infoPwd").innerHTML = '******' + '<input type="button" value="修改" class="changeInfoB" id="changeInfouserpd">';
                                }
                            }
                            xhr.open("POST", "/MyRanch/user/changeInfo");
                            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            xhr.send("newMessage=" + newMessage.value + "&" +
                                "type=4");
                        } else {
                            alert("修改信息不能为空或输入密码长度应为6-16位");
                        }
                    }

                    document.getElementById("changepd-cancle").onclick = function () {
                        getUserInfo()
                    }
                }
            }
        }
        document.getElementById("infoPwd").onmouseout = function () {
            const changeInfoUserpd = document.getElementById("changeInfouserpd");
            if (changeInfoUserpd != null) {
                changeInfoUserpd.style.display = 'none';
            }
        }

        document.getElementById('check-pay-code').onclick = function () {
            var xhr = new XMLHttpRequest()
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    let payCodeImg = document.getElementById('pay-code-img');
                    if (xhr.responseText !== "") {
                        payCodeImg.src = "data:image/png;base64," + xhr.responseText;
                    }
                    var mask = document.getElementById("mask-4");
                    mask.style.display = "block";
                    var second_part = document.getElementById("second_part");
                    second_part.style.opacity = "0.3";

                    document.getElementById('send-pay-code').onclick = function () {
                        document.getElementById('browse-image1').click();
                    }

                    document.getElementById('browse-image1').onchange = function () {
                        if (this.value !== '') {
                            var reader = new FileReader();
                            reader.readAsDataURL(this.files[0]);
                            reader.onload = function (e) {
                                payCodeImg.src = e.target.result;
                            }
                        }
                    }

                    document.getElementById('send-pay-code-confirm').onclick = function () {
                        if (document.getElementById('browse-image1').value === '') {
                            alert('请先选择需要上传的收款码');
                            return;
                        }

                        var formData = new FormData();
                        formData.append("payCode", document.getElementById('browse-image1').files[0]);

                        var xhr = new XMLHttpRequest()
                        xhr.onreadystatechange = function () {
                            if (xhr.readyState === 4 && xhr.status === 200) {
                                if (xhr.responseText === "0") {
                                    alert('上传成功');
                                    document.getElementById('browse-image1').value = '';
                                    mask.style.display = "none";
                                    second_part.style.opacity = "1";
                                } else {
                                    alert('收款码上传失败，请稍后再试');
                                }
                            }
                        }
                        xhr.open("POST", "/MyRanch/user/setPayCode");
                        xhr.send(formData);
                    }

                    document.getElementById('send-pay-code-cancel').onclick = function () {
                        document.getElementById('browse-image1').value = '';
                        mask.style.display = "none";
                        second_part.style.opacity = "1";
                    }
                }
            }
            xhr.open("GET", "/MyRanch/user/getPayCode");
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.send();
        }
    }

    var index = document.querySelector('.index');
    var exchange = document.querySelector('.exchange');
    var deal = document.querySelector('.deal');
    var help = document.querySelector('.help');
    var second11 = document.querySelector('.second_1-1');
    var second12 = document.querySelector('.second_1-2');
    var second13 = document.querySelector('.second_1-3');
    var second2 = document.querySelector('.second_2');
    var second3 = document.querySelector('.second_3');
    //改2
    var second21 = document.querySelector('.second_2-1');
    // var userInfo = document.querySelector('.second_2-2')
    var userInfo = document.getElementById('other-info');
    var persondinfo_detail = document.querySelector('.persondinfo_detail');
    index.addEventListener('click', function() {
        index.style.backgroundColor = '#e1e1e1';
        exchange.style.backgroundColor = 'white';
        deal.style.backgroundColor = 'white';
        second11.style.zIndex = 3;
        second11.style.display = 'block';
        second12.style.zIndex = 1;
        second12.style.display = 'none';
        second13.style.zIndex = 1;
        second13.style.display = 'none';
        //改2
        second21.style.backgroundColor = '#54d1a6';
        userInfo.style.backgroundColor = 'white';
        persondinfo_detail.style.display = 'none';
        persondinfo_detail.style.zIndex = 1;
        second2.style.display = 'block';
        second3.style.width = '60%';
        second3.style.marginLeft = '0';
        // update_username.valueOf().value = '请输入新的用户名';
        // update_email.valueOf().value = '请输入新的电子邮箱';
        // update_phone.valueOf().value = '请输入新的手机号';
        // update_location.valueOf().value = '请输入新的地区';
        // update_dept.valueOf().value = '请输入新的部门';
    })
    exchange.addEventListener('click', function() {
        exchange.style.backgroundColor = '#e1e1e1';
        index.style.backgroundColor = 'white';
        deal.style.backgroundColor = 'white';
        second11.style.zIndex = 1;
        second11.style.display = 'none';
        second12.style.zIndex = 3;
        second12.style.display = 'block';
        second13.style.zIndex = 1;
        second13.style.display = 'none';
        second2.style.display = 'none';
        //改2
        second21.style.backgroundColor = '#54d1a6';
        userInfo.style.backgroundColor = 'white';
        persondinfo_detail.style.display = 'none';
        persondinfo_detail.style.zIndex = 1;
        second3.style.width = '70%';
        second3.style.marginLeft = '3%';
        // update_username.valueOf().value = '请输入新的用户名';
        // update_email.valueOf().value = '请输入新的电子邮箱';
        // update_phone.valueOf().value = '请输入新的手机号';
        // update_location.valueOf().value = '请输入新的地区';
        // update_dept.valueOf().value = '请输入新的部门';
    })
    deal.addEventListener('click', function() {
        deal.style.backgroundColor = '#e1e1e1';
        exchange.style.backgroundColor = 'white';
        index.style.backgroundColor = 'white';
        second11.style.zIndex = 1;
        second11.style.display = 'none';
        second12.style.zIndex = 1;
        second12.style.display = 'none';
        second13.style.zIndex = 3;
        second13.style.display = 'block';
        second2.style.display = 'none';
        //改2
        second21.style.backgroundColor = '#54d1a6';
        userInfo.style.backgroundColor = 'white';
        persondinfo_detail.style.display = 'none';
        persondinfo_detail.style.zIndex = 1;
        second3.style.width = '70%';
        second3.style.marginLeft = '3%';

        var productList = document.getElementById('product-list');

        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                let tradeList = JSON.parse(xhr.responseText);
                productList.innerHTML = '';
                for (let i = 0; i < tradeList.length; i++) {
                        if ((i > 0) && (i % 5 === 0)) {
                            productList.innerHTML += '<br>';
                        }

                       productList.innerHTML += '<div class="good-box" id="good-' + tradeList[i].id + '">' +
                           '<div class="img-box" ">' +
                           '<img src="data:image/png;base64,' + tradeList[i].base64 + '" alt="" style="max-width: 225px; height: auto; max-height: 127px">' +
                           '</div>' +
                           '<p class="product-name">' + tradeList[i].productName + '</p>' +
                           '<p class="product-price">¥' + tradeList[i].productPrice + '</p>' +
                           '</div>'
                }

                for (let i = 0; i < tradeList.length; i++) {
                    document.getElementById('good-' + tradeList[i].id).onclick = function () {
                        document.getElementById('good-id').value = tradeList[i].id;
                        document.getElementById('good-id-submit').click();
                    }
                }
            }
        }
        xhr.open("GET", "/MyRanch/trade/getAllGoods");
        xhr.send();
    })
    help.addEventListener('click', function() {
        window.location.href = "/MyRanch/chat.html";
    })
    //后面都是改2
    second21.addEventListener('click',function (){
        second21.style.backgroundColor = '#54d1a6';
        userInfo.style.backgroundColor = 'white';
        second11.style.zIndex = 3;
        second11.style.display = 'block';
        second12.style.zIndex = 1;
        second12.style.display = 'none';
        second13.style.zIndex = 1;
        second13.style.display = 'none';
        //改2
        persondinfo_detail.style.display = 'none';
        persondinfo_detail.style.zIndex = 1;
        second2.style.display = 'block';
        second3.style.width = '60%';
        second3.style.marginLeft = '0';
        // update_username.valueOf().value = '请输入新的用户名';
        // update_email.valueOf().value = '请输入新的电子邮箱';
        // update_phone.valueOf().value = '请输入新的手机号';
        // update_location.valueOf().value = '请输入新的地区';
        // update_dept.valueOf().value = '请输入新的部门';
    })
    userInfo.addEventListener('click',function (){
        userInfo.style.backgroundColor = '#54d1a6';
        second21.style.backgroundColor = 'white';
        second11.style.zIndex = 1;
        second11.style.display = 'none';
        second12.style.zIndex = 1;
        second12.style.display = 'none';
        second13.style.zIndex = 1;
        second13.style.display = 'none';
        //改2
        persondinfo_detail.style.display = 'block';
        persondinfo_detail.style.zIndex = 3;
        second2.style.display = 'block';
        second3.style.width = '60%';
        second3.style.marginLeft = '0';
        // update_username.valueOf().value = '请输入新的用户名';
        // update_email.valueOf().value = '请输入新的电子邮箱';
        // update_phone.valueOf().value = '请输入新的手机号';
        // update_location.valueOf().value = '请输入新的地区';
        // update_dept.valueOf().value = '请输入新的部门';
    })

</script>

<form style="display: none" action="/MyRanch/detail.jsp" method="post">
    <input type="text" name="id" style="display: none" id="good-id">
    <input type="submit" style="display: none" id="good-id-submit">
</form>

</html>